% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/correlation.R
\name{correlations}
\alias{correlations}
\title{Full Pairwise Correlation Table}
\usage{
correlations(
  data,
  Vars = NULL,
  type = c("bivariate", "partial", "semi-partial"),
  method = c("pearson", "spearman", "kendall"),
  p_adjust = c("none", "bonferroni", "holm", "fdr"),
  ci_level = 0.95,
  min_r = NULL,
  sig_only = FALSE,
  multilevel = FALSE,
  id = NULL,
  between = FALSE,
  group_by = NULL,
  digits = 3,
  title = NULL
)
}
\arguments{
\item{data}{A data frame containing the variables to correlate.}

\item{Vars}{Character vector of variable names to include. If NULL (default),
all numeric variables in the data frame are used.}

\item{type}{Type of correlation: "bivariate" (default), "partial", or "semi-partial".}

\item{method}{Correlation method: "pearson" (default), "spearman", or "kendall".}

\item{p_adjust}{Method for p-value adjustment: "none" (default), "bonferroni", "holm", "fdr".}

\item{ci_level}{Confidence level for intervals. Default 0.95.}

\item{min_r}{Numeric. Only show correlations with |r| >= this value. Default NULL (show all).}

\item{sig_only}{Logical. Only show significant correlations (p < .05)? Default FALSE.}

\item{multilevel}{Logical. Calculate multilevel (within-cluster) correlations? Default FALSE.
When TRUE, removes between-cluster variance to estimate within-cluster associations.}

\item{id}{Character. Name of the clustering/ID variable for multilevel correlations.
Required when multilevel = TRUE.}

\item{between}{Logical. Also report between-cluster correlations? Default FALSE.
Only used when multilevel = TRUE.}

\item{group_by}{Character. Name of grouping variable to compute correlations separately per group.
Results are combined into one table with a "Group" column.}

\item{digits}{Number of decimal places. Default 3.}

\item{title}{Optional title for the table.}
}
\value{
A list containing:
\itemize{
  \item \code{table}: A gt table with full correlation statistics
  \item \code{data}: Data frame with all statistics
  \item \code{n_pairs}: Number of variable pairs
  \item \code{n_significant}: Number of significant correlations
  \item \code{between_data}: Between-cluster correlations (if multilevel & between = TRUE)
}
}
\description{
Creates a comprehensive long-format correlation table showing all pairwise
correlations with full statistics including r, confidence intervals, test
statistics, degrees of freedom, p-values, and sample sizes. Supports
multilevel/repeated measures correlations for nested data.
}
\details{
When \code{multilevel = TRUE}, the function calculates within-cluster correlations
by group-mean centering variables before computing correlations. This removes
between-cluster variance and estimates the pooled within-cluster association,
appropriate for repeated measures or hierarchically nested data.

The degrees of freedom for multilevel correlations are adjusted as:
df = n_observations - n_clusters - 1
}
\examples{
\dontrun{
# Correlate all numeric variables in data frame
correlations(mtcars)

# Full correlation table with specific variables
correlations(mtcars, Vars = c("mpg", "cyl", "disp", "hp", "wt"))

# Only strong correlations
correlations(mtcars, Vars = c("mpg", "cyl", "disp", "hp"), min_r = 0.5)

# Partial correlations with Bonferroni correction
correlations(mtcars, Vars = c("mpg", "cyl", "disp", "hp"),
             type = "partial", p_adjust = "bonferroni")

# Only significant correlations
correlations(mtcars, Vars = c("mpg", "cyl", "disp", "hp", "wt"),
             sig_only = TRUE)

# Multilevel correlations (within-person)
correlations(longitudinal_data, Vars = c("anxiety", "depression", "stress"),
             multilevel = TRUE, id = "participant_id")

# Multilevel with between-cluster correlations
correlations(longitudinal_data, Vars = c("anxiety", "depression"),
             multilevel = TRUE, id = "participant_id", between = TRUE)

# Correlations by group (stratified)
correlations(mtcars, Vars = c("mpg", "hp", "wt"), group_by = "cyl")

# Correlations by group with significance filter
correlations(mtcars, Vars = c("mpg", "hp", "wt", "disp"),
             group_by = "am", sig_only = TRUE)
}

}
